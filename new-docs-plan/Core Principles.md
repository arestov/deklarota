# Core principles

Состояние приложения формируется из моделей данных. В приложении есть root модель, в которую вложены дочерние модели, в них также могут быть вложены модели. В итоге у нас получается [древовидная структура](https://blackfalconsoftware.files.wordpress.com/2017/09/hierarchicaltree.png). Модели имеют своё внутреннее состояние и связи с другими моделями. Через описание этих связей, мы можем читать/менять состояние других моделей, причем мы можем получить доступ к любой модели из любой модели.

Важная деталь, что состояния у нас реактивные и вычисляются автоматически, на основании зависимых состояний.

Внутреннее состояние модели состоит из:

`attrs` - объект, который описывает состояние модели (аналог стэйта из react)

`rels` - объект, в котором мы описываем связи с другими моделями

`actions` - объект, который содержит экшны, через которые мы меняем состояние модели

`effects` - объект с сайдэффектами. Например, если состояние модели формируется из ответа от бэкэнда, то запрос к бэкэнду мы описываем здесь

Пример (в общем, что-то ничего умнее того что ниже быстро не получилось придумать, но тут хочется видеть какой-то пример приближенный к реальной жизни, но написанный псевдокодом. Например, есть приложение для стриминга музыки, там есть рут модель, внутри которой модели с песнями, в них вложены модели с исполнителями, что-то типа такого, чтобы можно было быстро вникнуть в суть моделей):

```js
const ChildModel1 = {
  attrs: {
    attr1: 2,
    attr2: 2,
    attr3: ['compx', ['attr1', 'attr2'], (a1, a2) => a1 + a2], // вычисляемое свойство, вычисляется на основании состояний attr1, attr2
  },
  rels: {},
  actions: {},
  effects: {},
}
const ChildModel2 = {
  attrs: {},
  rels: {
    childModel3: ChildModel3,
  },
  actions: {},
  effects: {},
}

const ChildModel3 = {
  attrs: {},
  rels: {
    childModel1: ChildModel1,
    childModel2: ChildModel2,
  },
  actions: {},
  effects: {},
}

const RootModel = {
  attrs: {},
  rels: {
    childModel1: ChildModel1,
    childModel2: ChildModel2,
  },
  actions: {},
  effects: {},
}
```

```
Пока мыслей нет что сюда написать, чтобы вообще прям идеально было. Наверное какие-то абстракции описать, реактивность, декларативность, сильные стороны, идеи, на которых построен фреймворк
```
